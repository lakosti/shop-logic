{"mappings":"4hBAQA,MAAMA,EAAOC,SAASC,cAAc,Y,IAChBC,EAApB,MAAMC,EAAmE,QAArDD,EAAAE,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,OAAOC,sBAAc,IAArDR,IAAyD,G,IAC3DS,EAAlB,MAAMC,EAA+D,QAAnDD,EAAAP,KAAKC,MAAMC,aAAaC,QAAQC,EAAAC,OAAOI,oBAAY,IAAnDF,IAAuD,GAmCzE,SAASG,EAAYC,GACnB,OAAOC,EAAAC,YAAYC,MAAK,EAACC,GAAEA,KAASA,IAAOJ,G,EAjCM,EAAnDK,EAAAC,cAAaL,EAAAC,YAAalB,GAE1BA,EAAKuB,iBAAiB,SAEtB,SAAiBC,GAEf,GADAA,EAAIC,iBACAD,EAAIE,OAAOC,UAAUC,SAAS,WAAY,CAC5C,MAAMR,GAAEA,GAAOI,EAAIE,OAAOG,QAAQ,YAAYC,QACxCC,EAAUhB,EAAYiB,OAAOZ,KACnC,EAAAa,EAAAC,aAAYH,E,CAEd,GAAIP,EAAIE,OAAOC,UAAUC,SAAS,aAAc,CAEjC,MAAPR,GAAEA,GAAOI,EAAIE,OAAOG,QAAQ,YAAYC,QACxCC,EAAUhB,EAAYiB,OAAOZ,IAEkBP,EAA3CsB,KAAKJ,GACfxB,aAAa6B,QAAQ3B,EAAAC,OAAOI,WAAYT,KAAKgC,UAAUxB,G,CAEzD,GAAIW,EAAIE,OAAOC,UAAUC,SAAS,eAAgB,CAChD,MAAQR,GAAAkB,GAAOd,EAAIE,OAAOG,QAAQ,YAAYC,QACxCC,EAAUhB,EAAYiB,OAAOM,IAGnC,GADkBlC,EAAYmC,MAAK,EAACnB,GAAEA,KAASA,IAAOW,EAAQX,KAE5D,OAEFhB,EAAY+B,KAAKJ,GACjBxB,aAAa6B,QAAQ3B,EAAAC,OAAOC,aAAcN,KAAKgC,UAAUjC,G","sources":["src/index.js"],"sourcesContent":["import '/node_modules/basiclightbox/dist/basicLightbox.min.css';\n\nimport { common } from './common';\nimport { createMarkup } from './helpers/createMarkup';\nimport { createModal } from './helpers/createModal';\n\nimport { instruments } from './helpers/instruments';\n// const search = document.querySelector('.js-search');\nconst list = document.querySelector('.js-list');\nconst favoriteArr = JSON.parse(localStorage.getItem(common.KEY_FAVORITE)) ?? [];\nconst basketArr = JSON.parse(localStorage.getItem(common.KEY_BASKET)) ?? [];\n//якщо локал сторадж пустий він поверне нал і буде пустий масив\n\ncreateMarkup(instruments, list);\n\nlist.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  evt.preventDefault();\n  if (evt.target.classList.contains('js-info')) {\n    const { id } = evt.target.closest('.js-item').dataset;\n    const product = findProduct(Number(id));\n    createModal(product);\n  }\n  if (evt.target.classList.contains('js-basket')) {\n    // отримуємо айді\n    const { id } = evt.target.closest('.js-item').dataset;\n    const product = findProduct(Number(id));\n    //щоб зберегти обрані файли пушемо їх, і поміщаємо в локал сторадж\n    basketArr.push(product);\n    localStorage.setItem(common.KEY_BASKET, JSON.stringify(basketArr));\n  }\n  if (evt.target.classList.contains('js-favorite')) {\n    const { id } = evt.target.closest('.js-item').dataset;\n    const product = findProduct(Number(id));\n    //перевірка чи міститься уже такий об'єкт\n    const inStorage = favoriteArr.some(({ id }) => id === product.id);\n    if (inStorage) {\n      return;\n    }\n    favoriteArr.push(product);\n    localStorage.setItem(common.KEY_FAVORITE, JSON.stringify(favoriteArr));\n  }\n}\n\nfunction findProduct(productId) {\n  return instruments.find(({ id }) => id === productId);\n}\n"],"names":["$1f0dc3b9307be026$var$list","document","querySelector","$1f0dc3b9307be026$var$ref","$1f0dc3b9307be026$var$favoriteArr","JSON","parse","localStorage","getItem","$UDlvM","common","KEY_FAVORITE","$1f0dc3b9307be026$var$ref1","$1f0dc3b9307be026$var$basketArr","KEY_BASKET","$1f0dc3b9307be026$var$findProduct","productId","$c1Bmg","instruments","find","id","$dEdDu","createMarkup","addEventListener","evt","preventDefault","target","classList","contains","closest","dataset","product","Number","$l5ICX","createModal","push","setItem","stringify","id1","some"],"version":3,"file":"index.4d6280eb.js.map"}